// Generated by CoffeeScript 1.7.1
(function() {
  exports.lexer = require('./lexer');

  exports.parser = require('./parser');

  exports.nodes = require('./nodes');

  exports.parse = function(sql) {
    return exports.parser.parse(exports.lexer.tokenize(sql));
  };

  exports.parse2 = function(sql, opts) {
    var args, paramsLength, placeholders, tokenInfo, tokens;
    tokenInfo = exports.lexer.tokenize2(sql, opts);
    tokens = tokenInfo.tokens;
    placeholders = tokenInfo.placeholders;
    paramsLength = placeholders.length;
    args = opts.args || [];
    if (paramsLength < 1 && args.length < 1) {
      return exports.parser.parse(tokens);
    }
    if (args.length > 0 && paramsLength < 1) {
      exports.parser.throwUnMatchedParamsExc();
    }
    opts.placeholders = placeholders;
    return exports.parser.parse2(tokens, opts);
  };

}).call(this);
